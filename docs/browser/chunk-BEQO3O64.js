import{a as W,b as g}from"./chunk-7RAMETKJ.js";import{a as H,b as J,c as K,d as L,e as Q,h as u}from"./chunk-YZO25TB2.js";import{A as w,Aa as M,Ba as R,Ca as z,D as l,F as O,G as P,Ia as A,J as S,Ja as B,K as k,La as N,Ma as D,Pa as U,Ta as V,U as I,V as c,Va as q,Xa as G,_ as h,aa as m,e as y,fa as $,ga as j,ha as a,ia as o,ja as _,ka as E,ma as f,na as b,ua as p,va as d,x as v,xa as T,ya as F,z as x}from"./chunk-QIR5U3J5.js";var C=(()=>{let t=class t{constructor(){this._httpClient=l(U)}getAllMeals(n){return this._httpClient.get(`https://api.mocki.io/v2/aqprm7yv/menus/${n}`)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var tt=(e,t)=>t.id,et=e=>({unavailable:e});function nt(e,t){if(e&1&&(a(0,"span",10),p(1),M(2,"async"),o()),e&2){let r=b();c(),d(R(2,1,r.countObs$))}}function it(e,t){e&1&&(a(0,"span",17),p(1,"Unavailable"),o())}function at(e,t){if(e&1){let r=E();a(0,"mat-card",9),_(1,"img",11),h(2,it,2,0,"span",12),a(3,"mat-card-content",13)(4,"h5"),p(5),o(),a(6,"p"),p(7),o(),a(8,"div",14)(9,"span",15),p(10),M(11,"currency"),o(),a(12,"button",16),f("click",function(){let i=S(r).$implicit,s=b();return k(s.addToCart(i))}),a(13,"mat-icon"),p(14,"add"),o()()()()()}if(e&2){let r=t.$implicit;m("ngClass",F(11,et,!r.availability)),c(),m("src",r.thumbnail,I),c(),m("ngIf",!r.availability),c(3),d(r.name),c(2),d(r.description),c(3),d(z(11,7,r.price,"EGP","symbol-narrow")),c(2),m("disabled",!r.availability)}}var Y=(()=>{let t=class t{constructor(){this.destroy$=new y,this.title="",this.meals=[],this._activatedRoute=l(V),this._router=l(q),this.menusService=l(C),this.cartService=l(g),this.countObs$=this.cartService.cartCount}ngOnInit(){this.title=history.state.name,this._activatedRoute.paramMap.pipe(v(this.destroy$)).subscribe(n=>{this.getMeals(n.get("id"))}),this.countObs$=this.cartService.cartCount}getMeals(n){this.menusService.getAllMeals(n).pipe(v(this.destroy$)).subscribe(i=>{this.meals=i})}myCart(){this._router.navigate(["cart"])}addToCart(n){let i={id:n.id,name:n.name,price:n.price,thumbnail:n.thumbnail,qnt:1};this.cartService.addItemToCart(i)}back(){history.back()}ngOnDestroy(){window.location.reload(),this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=O({type:t,selectors:[["app-meals"]],standalone:!0,features:[T],decls:11,vars:2,consts:[[1,"w-100","d-flex","flex-column"],[1,"d-flex","flex-row","justify-content-between"],[1,"d-flex","flex-row","flex-grow-1"],["src","assets/photos/arrow.png",1,"me-3",3,"click"],[3,"title"],[1,"position-relative"],["src","assets/photos/cart.png",3,"click"],["class","badge",4,"ngIf"],[1,"d-flex","flex-row","flex-wrap","justify-content-between","pt-5","meals"],["appearance","outlined",1,"d-flex","flex-row","align-items-center","w-100","my-1","p-3",3,"ngClass"],[1,"badge"],["mat-card-image","",3,"src"],["class","unavSpan",4,"ngIf"],[1,"pb-0","w-100"],[1,"d-flex","justify-content-between"],[1,"align-self-center"],["mat-icon-button","",1,"addBtn","d-flex","p-1",3,"click","disabled"],[1,"unavSpan"]],template:function(i,s){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),f("click",function(){return s.back()}),o(),_(4,"app-title",4),o(),a(5,"div",5)(6,"img",6),f("click",function(){return s.myCart()}),o(),h(7,nt,3,3,"span",7),o()(),a(8,"div",8),$(9,at,15,13,"mat-card",9,tt),o()()),i&2&&(c(4),m("title",s.title),c(3),m("ngIf",s.countObs$.value>=1),c(2),j(s.meals))},dependencies:[u,A,B,H,N,D,Q,J,K,L,W],styles:[".badge[_ngcontent-%COMP%]{position:absolute;background-color:red;width:5vw;height:5vw;border-radius:50%;display:flex;justify-content:center;bottom:15px;left:15px;font-size:3vw}.meals[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#333;color:#fff}.meals[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30vw;height:15vh;border-radius:8px;object-fit:cover}.meals[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .unavSpan[_ngcontent-%COMP%]{position:absolute;left:5vw;font-size:4vw;font-weight:500}.meals[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{font-family:inter;font-weight:400}.meals[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:4vw}.meals[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3vw}.meals[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .addBtn[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:2vw}.meals[_ngcontent-%COMP%]   mat-card.unavailable[_ngcontent-%COMP%]{opacity:84%;cursor:none}"]});let e=t;return e})();var ot=[{path:":id",component:Y}],kt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=P({type:t}),t.\u0275inj=w({providers:[C,g],imports:[u,G.forChild(ot)]});let e=t;return e})();export{kt as MenusModule};
